---
name: pr-create
description: Creates GitHub pull requests with properly formatted conventional commit-style titles. Use when creating PRs, submitting changes for review, or when user says /pr, /pr-create, or asks to create a pull request.
user-invocable: true
allowed-tools: [Bash, Read, Grep, Glob]
hooks:
  Stop:
    - type: command
      command: "task claude:validate-skill -- --skill pr-create"
---

# PR Create

## Purpose
Creates GitHub pull requests with conventional commit-style titles and structured bodies.

## Quick Reference
- Creates: GitHub PR via `gh pr create`
- Requires: GitHub CLI installed and authenticated, committed changes on a feature branch

## Prerequisites

Before creating a PR, verify:
1. **gh CLI installed**: `gh --version` - if missing: `brew install gh`
2. **gh CLI authenticated**: `gh auth status` - if not: `gh auth login`

## PR Title Format

```
<type>(<scope>): <subject>
```

### Types

| Type | Use for |
|------|---------|
| `feat` | New features |
| `fix` | Bug fixes |
| `chore` | Maintenance, refactoring |
| `docs` | Documentation |
| `test` | Test changes |
| `perf` | Performance improvements |
| `ci` | CI/CD changes |

### Scopes

- `workflows` - GitHub Actions workflow files
- `scripts` - Shell scripts (setup, orchestration)
- `ci` - CI pipeline configuration and logic
- `runner` - Self-hosted runner setup and provisioning
- `config` - Configuration files

### Title Rules

1. Max 50 characters
2. Capitalized first letter after colon
3. No period at the end
4. Be specific - avoid "improve", "enhance", "update"
5. **NO AI ATTRIBUTION** - STRICTLY FORBIDDEN

## AI Attribution Policy

**COMPLETE VIOLATION** - Never include ANY of the following in PR titles, bodies, or commits:
- `Co-Authored-By: Claude`, `Co-Authored-By: GPT`, or any AI name
- AI-related emojis
- "Generated by", "Created with", or similar phrases
- Any reference to AI tools (Claude, ChatGPT, Copilot, etc.)

PRs and commits must appear as human-authored work. This is a strict project requirement.

## PR Body Template

```markdown
## Summary

[2-3 sentences summarizing what changed and why]

## Changes

- [bullet point of change 1]
- [bullet point of change 2]
- [bullet point of change 3]

## Checklist

- [ ] Code follows project conventions
- [ ] Documentation updated (if needed)
- [ ] Changes tested locally (if applicable)
```

Fill in Summary and Changes with specifics. Check applicable Checklist items with `[x]`.

## User Review Step

Before creating the PR, present it to the user for review:

```
## PR Preview

**Title:** feat(workflows): Add retry logic to E2E pipeline

**Body:**
## Summary

Adds retry logic to the E2E test pipeline to handle transient network failures
during consensus deployment.

## Changes

- Add retry wrapper for task consensus:deploy
- Configure max 3 retries with exponential backoff
- Log retry attempts for debugging

## Checklist

- [x] Code follows project conventions
- [x] Documentation updated (if needed)
- [ ] Changes tested locally (if applicable)

---
Any changes I should make?
```

Wait for user confirmation:
- If user says "no" or confirms -> create the PR
- If user requests changes -> incorporate feedback and show again

## Automation
See `skill.yaml` for the full procedure and patterns.
See `sharp-edges.yaml` for common failure modes.
